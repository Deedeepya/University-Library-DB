CREATE TABLE EMPLOYEE (
  	Fname VARCHAR(15) NOT NULL,
	Minit CHAR(1),
	Lname VARCHAR(15) NOT NULL,
	Ssn CHAR(9) NOT NULL,
	Bdate DATE,
	Address VARCHAR(30),
	Sex CHAR(1),
	Salary INT,
	Super_ssn CHAR(9),
	Dno INT,
	PRIMARY KEY (Ssn)
);


create table DEPARTMENT (
	Dname VARCHAR(15) NOT NULL,
	Dnumber INT NOT NULL,
	Mgr_ssn CHAR(15) NOT NULL,
	Mgr_start_date DATE,
	PRIMARY KEY (Dnumber),
	UNIQUE (Dname)
);


create table DEPT_LOCATIONS (
	Dnumber INT NOT NULL,
	Dlocation VARCHAR(15) NOT NULL,
	PRIMARY KEY (Dnumber, Dlocation)
);


create table PROJECT (
	Pname VARCHAR(15) NOT NULL,
	Pnumber INT NOT NULL,
	Plocation VARCHAR(15),
	Dnum INT NOT NULL,
	PRIMARY KEY (Pnumber)
);


create table WORKS_ON (
	Essn CHAR(9) NOT NULL,
	Pno INT NOT NULL,
	Hours DECIMAL(3,1) NOT NULL,
	PRIMARY KEY (Essn, Pno)
);


create table DEPENDENT (
	Essn CHAR(9) NOT NULL,
	Dependent_name VARCHAR(15) NOT NULL,
	Sex CHAR,
	Bdate DATE,
	Relationship VARCHAR(8),
	PRIMARY KEY (Essn, Dependent_name)
);

ALTER TABLE EMPLOYEE
ADD CONSTRAINT FK_SUPER_SSN_EMPLOYEE
FOREIGN KEY (Super_ssn)
REFERENCES EMPLOYEE(Ssn);

ALTER TABLE EMPLOYEE
ADD CONSTRAINT FK_DNO_DEPARTMENT
FOREIGN KEY (Dno)
REFERENCES DEPARTMENT(Dnumber);

ALTER TABLE DEPARTMENT
ADD CONSTRAINT FK_MGR_SSN_EMPLOYEE
FOREIGN KEY (Mgr_ssn)
REFERENCES EMPLOYEE(Ssn);

ALTER TABLE DEPT_LOCATIONS
ADD CONSTRAINT FK_DNUMBER_DEPARTMENT
FOREIGN KEY (Dnumber)
REFERENCES DEPARTMENT(Dnumber);

ALTER TABLE PROJECT
ADD CONSTRAINT FK_DNUM_DEPARTMENT
FOREIGN KEY (Dnum)
REFERENCES DEPARTMENT(Dnumber);

ALTER TABLE WORKS_ON
ADD CONSTRAINT FK_ESSN_EMPLOYEE_W
FOREIGN KEY (Essn)
REFERENCES EMPLOYEE(Ssn);

ALTER TABLE WORKS_ON
ADD CONSTRAINT FK_PNO_PROJECT
FOREIGN KEY (Pno)
REFERENCES PROJECT(Pnumber);

ALTER TABLE DEPENDENT
ADD CONSTRAINT FK_ESSN_EMPLOYEE_D
FOREIGN KEY (Essn)
REFERENCES EMPLOYEE(Ssn);

